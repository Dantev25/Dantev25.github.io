<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width,initial-scale=1"/>
        <title>Join Us | Eco Warriors</title>

        <!-- add icon link -->
        <link rel="icon" type="image/x-icon" href="../Images/Icon-logo.png">

        <!-- font awesome icons cdn -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        
        <!-- custom style.css file -->
        <link rel="stylesheet" href="../style.css">
        
    </head>

    <body>
        <!-- Header -->
        <header id="header" class="shadow bg-light">
            <nav class="container navbar">
              <div class="main-logo">
                <ul class="navbar-nav">
                  <li class="nav-li"><a href="https://ecowarriorsclub.me" class="nav-brand text-dark"><img src="../Images/cover-cropped.png" alt="Logo"></a></li>        
                </ul>
            </div>
            
                

                <!-- toggle button -->
                <button class="toggle-button">
                    <span><i class="fas fa-bars"></i></span>

                </button>

                <!-- collapse on toggle button click -->
                <div class="collapse">
                    <ul class="navbar-nav">
                      
                      <li class="nav-li"><a href="https://ecowarriorsclub.me" class="nav-link">Home</a></li>
                    <li class="nav-li"><a href="posts.html" class="nav-link">Posts</a></li>
                    <li class="nav-li"><a href="gallery.html" class="nav-link">Gallery</a></li>
                    <li class="nav-li"><a href="about-us.html" class="nav-link">About Us</a></li>
                    <li class="nav-li"><a href="contact-us.html" class="nav-link">Contact Us</a></li>
                    <li class="nav-li"><a href="join-us.html" class="nav-link"><b><u>Join Club</u></b></a></li>
                    </ul>
                </div>
                <!-- collapse on toggle button click -->
                <div class="collapse">
                    <ul class="navbar-nav">
                      <li class="nav-li"><a href="https://www.facebook.com/profile.php?id=100089771280852&mibextid=ZbWKwL" class="nav-link" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
                      <li class="nav-li"><a href="https://www.instagram.com/eco.warriors.club/" class="nav-link" target="_blank"><i class="fab fa-instagram"></i></a></li>
                    </ul>
                </div>
            </nav>  

        </header>
        <!-- /Header -->

        <main>
          <form id="regform" name="regform">
                <div class="container-form">  
                      <h2 style="text-align: center;"> Join us!</h2>   
                      <hr style="width: 60%;border-style: solid;">
                    <label> Firstname </label>   
                    <input type="text" id="firstname" placeholder= "Firstname" name="firstname" required/>   
                    <p id="fnamefb"></p>
                    <label> Lastname </label>    
                    <input type="text" id="lastname" placeholder="Lastname"  name="lastname" required/>  
                    <p id="lnamefb"></p> 
                    <div>  
                    
                    <label>   
                    Status :  
                    </label>   
                        <select id="status" name="status" required>  
                        <option value="Junior School" >&#160; &#160;Junior School</option>  
                        <option value="Middle SSchool" >&#160; &#160;Middle SSchool</option>  
                        <option value="High School" >&#160; &#160;High School</option>  
                        <option value="College" >&#160; &#160;College</option>  
                        <option value="Post Graduate University" >&#160; &#160;Post Graduate University</option>  
                        <option value="Employed" >&#160; &#160;Employed</option>  
                        <option value="Self-Employed/Freelance" >&#160; &#160;Self-Employed/Freelance</option>  
                        <option value="Enterprise owner" >&#160; &#160;Enterprise owner</option>  
                        </select> 
                        <p id="statusfb"></p>
                     
                </div> 
               
              <div>  
                <label>   
                Gender :  
                </label>  
                <input type="radio" value="Male" id="gender" name="gender" required> Male   
                <input type="radio" value="Female" id="gender" name="gender" required> Female   
                <input type="radio" value="Other" id="gender" name="gender" required> Other  
                <p id="genderfb"></p>
              </div>  
                <label>   

                Phone   
                </label>  
                <input type="text" id="phone" name="phone" value="+230" placeholder="phone no." size="10" required/>   
                <p id="phonefb"></p>

              
                Current Address   
                <textarea cols="80" rows="5" id="address" name="address" required></textarea>  
                <p id="addressfb"></p>
                <label><b>Email</b></label>  
                <input type="text" placeholder="Enter Email" id="email" name="email" required/>   
                <p id="emailfb"></p>

                Tell us more about you. What motivates you to join our club?  
                <textarea cols="80" rows="5"  id="motivation" name = "motivation" required></textarea> 
                <p id="motivationfb"></p>


                Suggest a project you wish we could start.
                <textarea cols="80" rows="5"  id="project" name="project" required></textarea>
                <p id="projectfb"></p>
                
                <div class="container-check">        
                <label for="subscribe">Check to subscribe to our newsletter</label>
                  <input type="checkbox" id="subscribe" name="subscribe">
                </div>
                <button type="submit" class="registerbtn">Register</button>


                
                </form>  
                        
            
           
              </main>
          
                 
                <!-- Custom javascript main.js file-->
                <script src="../main.js"></script>
                <footer>
                  <div class="footer-c">
                    <ul class="breadcrumb">
                      <li><a href="https://ecowarriorsclub.me">Home</a></li>
                      <li><b><a href="gallery.html">Join Us</a></b></li>
                    </ul>
                    <div class="footer-container">
                    
                      <div class="footer-element">
                        <div class="footer-company-desc">
                          <h2>Eco Warriors Club</h2>
                          <p>Live The Passion of Service!</p>
                          <a href="https://ecowarriorsclub.me">
                            <img src="../Images/icon-transparent.png" alt="Logo">
                          </a>
                        </div>
                      </div>
            
                      
                      <div class="footer-element">
                        <div class="footer-links">
                          <h2>Links</h2>
                          <ul class="links-list" style="list-style-type: square;">
                            <li class="mb-1">
                              <a href="../Homepage/sitemap.html">Sitemap</a>
                            </li>
                            <li class="mb-1">
                              <a href="../Homepage/about-us.html">About us</a>
                            </li>
                            <li class="mb-1">
                              <a href="../Homepage/contact-us.html">Contact Us</a>
                            </li>
                            <li>
                              <a href="../Homepage/join-us.html">Register</a>
                            </li>
                          </ul>
                        </div>
                      </div>
                      
            
                      <div class="footer-element">
                        <div class="footer-hours">
                          <h2>Hours</h2>
                          <table class="table">
                            <tbody>
                              <tr>
                                <td>Mon - Fri:</td>
                                <td>8am - 4pm</td>
                              </tr>
                              <tr>
                                <td>Sat - Sun:</td>
                                <td>8am - 11am</td>
                              </tr>
                            </tbody>
                          </table>
                        </div>   
                      </div>
                    
                      
                    </div>
                    <div class="footer-copyright">
                      <p>
                        Â© 2023 Copyright: 
                        <a href="https://ecowarriorsclub.me">Eco Warriors Blog</a>
                      </p>
                      
                    </div>
                  </div>
                  
          
                </footer>
                    
                  <script>
                    
                      // get form elements
                      const form = document.getElementById("regform");
                      const firstName = document.getElementById("firstname");
                      const lastName = document.getElementById("lastname");
                      const status = document.getElementById("status");
                      const gender = document.getElementsByName("gender");
                      const phone = document.getElementById("phone");
                      const address = document.getElementById("address");
                      const email = document.getElementById("email");
                      const motivation = document.getElementById("motivation");
                      const project = document.getElementById("project");
                      const subscribe = document.getElementById("subscribe");

                      // add event listeners to form elements
                      firstName.addEventListener("input", validateFirstName);
                      lastName.addEventListener("input", validateLastName);
                      for (let i = 0; i < gender.length; i++) {
                        gender[i].addEventListener("input", validateGender);
                      }
                      phone.addEventListener("input", validatePhone);
                      address.addEventListener("input", validateAddress);
                      email.addEventListener("input", validateEmail);
                      motivation.addEventListener("input", validateMotivation);
                      project.addEventListener("input", validateProject);


                      

                      // helper function to display validation message
                      function displayValidationMessage(input, message, id) {
                        const feedback = document.getElementById(id);
                        if (message) {
                          feedback.innerText = message;
                        } else {
                          feedback.innerText = "";
                        }
                      }


                      // validate first name
                      function validateFirstName() {
                        const value = firstName.value.trim();
                        if (value.length < 3) {
                          displayValidationMessage(firstName, "First name must be at least 3 characters long","fnamefb");
                          return false;
                        } else {
                          displayValidationMessage(firstName, "","fnamefb");
                          return true;
                        }
                      }

                      // validate last name
                      function validateLastName() {
                        const value = lastName.value.trim();
                        if (value.length < 3) {
                          displayValidationMessage(lastName, "Last name must be at least 3 characters long", "lnamefb");
                          return false;
                        } else {
                          displayValidationMessage(lastName, "", "lnamefb");
                          return true;
                        }
                      }

                      // validate gender
                      function validateGender() {
                        let isChecked = false;
                        for (let i = 0; i < gender.length; i++) {
                          if (gender[i].checked) {
                            isChecked = true;
                            break;
                          }
                        }
                        if (!isChecked) {
                          displayValidationMessage(gender[0], "Please select a gender", "genderfb");
                          return false;
                        } else {
                          displayValidationMessage(gender[0], "", "genderfb");
                          return true;
                        }
                      }

                      // validate phone
                      function validatePhone() {
                        const value = phone.value.trim();
                        if (!/^(\+230)\d{8}$/.test(value)) {
                          displayValidationMessage(phone, "Phone must start with +230 and be followed by 8 numbers. ONLY NUMBERS", "phonefb");
                          return false;
                        } else {
                          displayValidationMessage(phone, "", "phonefb");
                          return true;
                        }
                      }

                      // validate address
                      function validateAddress() {
                        const value = address.value.trim();
                        if (value.length < 10) {
                          displayValidationMessage(address, "Address must be at least 10 characters long", "addressfb");
                          return false;
                        } else {
                          displayValidationMessage(address, "", "addressfb");
                          return true;
                        }
                      }

                      // validate email
                      function validateEmail() {
                        const value = email.value.trim();
                        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                          displayValidationMessage(email, "Please enter a valid email address", "emailfb");
                          return false;
                        } else {
                          displayValidationMessage(email, "", "emailfb");
                          return true;
                        }
                      }

                      // validate motivation
                      function validateMotivation() {
                        const value = motivation.value.trim();
                        if (value.length === 0) {
                          displayValidationMessage(motivation, "Motivation is required and must be at least 50 characters long", "motivationfb");
                          return false;
                        } else if (value.length < 50) {
                          displayValidationMessage(motivation, "Motivation must be at least 50 characters long", "motivationfb");
                        } else {
                          displayValidationMessage(motivation, "", "motivationfb");
                          return true;
                        }
                      }


                      function validateProject() {
                        const value = project.value.trim();
                        if (value.length === 0) {
                          displayValidationMessage(project, "Project is required and must be at least 50 characters long", "projectfb");
                          return false;
                        } else if (value.length < 50) {
                          displayValidationMessage(project, "Project must be at least 50 characters long", "projectfb");
                          return false;
                        } else {
                          displayValidationMessage(project, "", "projectfb");
                          return true;
                        }
                      }
                      // add event listener to form submit event
                      form.addEventListener("submit", function(event) {
                        event.preventDefault();
                        if (
                          validateFirstName() &&
                          validateLastName() &&
                          validateGender() &&
                          validatePhone() &&
                          validateAddress() &&
                          validateEmail() &&
                          validateMotivation() &&
                          validateProject()
                        ) {
                          openConfirmationPage(event);
                        } else{
                          alert("Please input all fields correctly. Validation failed.")
                        }
                      });

                      function openConfirmationPage(event) {
                        event.preventDefault();

                        // Validate all form inputs
                        const isValid =
                          validateFirstName() &&
                          validateLastName() &&
                          validateGender() &&
                          validatePhone() &&
                          validateAddress() &&
                          validateEmail() &&
                          validateMotivation() &&
                          validateProject();

                        // If all inputs are valid, submit the form
                        if (isValid) {
                          // Get the form element
                          const form = document.getElementById("regform");

                          // Create a new FormData object and populate it with the form data
                          const formData = new FormData(form);

                          // Serialize the form data to a query string
                          const queryString = new URLSearchParams(formData).toString();

                          // Construct the URL for the confirmation page
                          const confirmationUrl = "/Homepage/confirmation.html?" + queryString;

                          // Open the confirmation page
                          window.location.href = confirmationUrl;
                        }
                      }


                     

                  </script>
            </body>
        
        
        
        </html>